# `ARCHITECTURE.md` vs. `demo-page.html` 差距分析報告

## 1. 總體評估

`ARCHITECTURE.md` 文件作為 UI 設計的單一事實來源 (SSOT)，其完整性和詳細程度**非常高**。絕大多數在 `demo-page.html` 中實現的功能、頁面佈局、甚至是複雜的 UI 互動模式，都在架構文件中得到了清晰且準確的描述。這表明專案在開發過程中嚴格遵循了「設計先行」的原則，文件與實現之間的一致性非常出色。

只憑 `ARCHITECTURE.md` 確實可以還原出 `demo-page.html` 中 **95%** 以上的功能樣貌。

## 2. 一致性高的部分 (Strengths)

以下功能在 `ARCHITECTURE.md` 中的描述與 `demo-page.html` 中的實現**高度一致**，堪稱典範：

*   **資源批次操作 (3.2.1)**: 對動態「批次操作欄」、複選框、以及各個按鈕功能的描述，與 Demo 頁面完全吻合。
*   **告警規則的摺疊式介面 (3.2.4)**: 文件中對「摺疊式介面 (Accordion)」的描述，以及對「自動化響應」和「通知內容自定義」區塊的規格定義，精準地對應了 Demo 中的實現。
*   **通知管道的動態表單 (3.2.8)**: 文件中描述的「根據管道類型，動態變化設定欄位」的行為，在 Demo 中得到了完美體現。
*   **個人資料與系統設定的頁籤式佈局 (3.2.9)**: 文件中對這兩個頁面採用「頁籤式佈局 (Tabbed Layout)」以及各頁籤內容的劃分，與 Demo 實現完全一致。
*   **其他頁面**: 團隊管理、人員管理、自動化、容量規劃、告警紀錄等頁面的核心功能，在文件中都有對應且足夠的描述。

## 3. 發現的差距 (Gaps)

儘管整體一致性很高，但仍發現以下幾處 `demo-page.html` 中存在，而 `ARCHITECTURE.md` 未完全涵蓋的細節：

| 功能點 | 所在頁面 | 具體描述 | 差距分析 |
| :--- | :--- | :--- | :--- |
| **網段掃描** | 資源管理 | Demo 中提供一個「掃描網段」按鈕，點擊後可輸入網段並發現新資源。 | **主要差距**: `ARCHITECTURE.md` 的 3.2.1 節完全**沒有提及**此功能。這是目前發現的唯一一個**功能性缺失**。 |
| **儀表板細節** | 總覽儀表板 | Demo 中包含告警趨勢卡片、資源妥善率等狀態卡片，以及兩個狀態分佈圖表。 | **細節差距**: `ARCHITECTURE.md` 僅在技術棧中提到儀表板使用 Grafana 嵌入，但在功能規格章節 (3.2) **缺乏對儀表板佈局和圖表內容的具體描述**。 |
| **表格搜尋功能** | 資源管理 | Demo 中提供一個 `#device-search-input` 輸入框，用於客戶端即時篩選表格內容。 | **細節差距**: `ARCHITECTURE.md` 的 3.1 節僅籠統提及「資料表格支援搜尋」，但**未明確定義搜尋是前端篩選還是後端 API 請求**。 |
| **登入流程** | 登入頁 | Demo 是一個簡單的帳號密碼表單，並寫明了測試帳號。 | **可接受的差異**: `ARCHITECTURE.md` 的 2.2 節描述了更安全的 OIDC 流程。Demo 為了方便展示而簡化此流程是完全可以理解的。 |

## 4. 修改建議

為了讓 `ARCHITECTURE.md` 更加完善，真正成為 100% 的 SSOT，建議進行以下補充：

1.  **在 3.2.1 節 (資源管理) 中，新增一小節，專門描述「網段掃描與探索」功能**。
    *   **建議補充內容**: "除了手動新增，系統還提供『掃描網段』功能，允許使用者輸入 CIDR 格式的網段（如 192.168.1.0/24）進行探索。後端將執行非同步掃描任務，並在完成後將發現的資源列表返回給前端，使用者可勾選需要匯入的資源，實現批次新增。"

2.  **在 3.2 節中，新增一節 `3.2.0 總覽儀表板 (Dashboard)` (或類似標題)**。
    *   **建議補充內容**: "儀表板作為系統首頁，應包含以下幾個核心區塊：<br> 1. **狀態摘要卡片**: 以醒目方式呈現『新告警』、『處理中』、『今日已解決』的數量，並附帶與前一日比較的趨勢。<br> 2. **關鍵績效指標 (KPI)**: 以卡片形式展示『資源妥善率』、『總資源數』等核心指標。<br> 3. **圖表區**: 至少包含『資源群組狀態總覽 (長條圖)』與『資源狀態分佈 (圓餅圖)』兩個圖表，以視覺化方式呈現整體健康度。"

3.  **(可選) 在 3.1 節 (資料表格) 中，對「搜尋」功能做進一步澄清**。
    *   **建議補充內容**: "表格的搜尋功能在數據量較小的情況下，可由前端實現即時篩選；當數據量較大時，應由後端提供 API 進行模糊查詢，以確保性能。"

完成以上補充後，`ARCHITECTURE.md` 將能更完整地反映 `demo-page.html` 中呈現的所有功能，其作為 SSOT 的價值將更加凸顯。
